(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(t,e,n){t.exports=n(48)},38:function(t,e,n){},41:function(t,e,n){},48:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(26),i=n.n(o),c=(n(38),n(10)),l=n(11),s=n(14),u=n(12),m=n(15),h=n(16),d=n(20),p=n(5),f=n(13),g=n.n(f),v=n(9),y=function(t){function e(t){var n;Object(c.a)(this,e),(n=Object(s.a)(this,Object(u.a)(e).call(this))).getPlaylist=function(){var t=n.state,e=t.token,a=t.playlistId;fetch("https://api.spotify.com/v1/playlists/".concat(a),{method:"GET",headers:{Authorization:"Bearer "+e}}).then(function(t){return t.json()}).then(function(t){console.log(t),n.setState({tracks:t.tracks.items})}).catch(function(t){return console.error("Error:",t)})},n.deleteTrack=function(t){var e=t.target.id,a=t.target.value,r=n.state,o=r.token,i=r.playlistId;fetch("https://api.spotify.com/v1/playlists/".concat(i,"/tracks"),{method:"DELETE",headers:{Authorization:"Bearer "+o},body:JSON.stringify({tracks:[{uri:"spotify:track:".concat(e),positions:[parseInt(a)]}]})}).then(function(t){return t.json()}).then(function(t){n.getPlaylist()}).catch(function(t){return console.error("Error:",t)})};var a,r=t.items,o=t.match,i=t.token;return a=r.filter(function(t){return o.params.playlistId===t.id})[0],n.state={tracks:null,playlistId:o.params.playlistId,item:a,token:i},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.getPlaylist()}},{key:"render",value:function(){var t=this,e=this.state,n=e.item,a=e.tracks;return r.a.createElement("div",null,n&&r.a.createElement("div",null,r.a.createElement("h1",null,n.name),r.a.createElement("img",{src:n.images[0].url,height:"200"}),r.a.createElement("ul",null,a&&a.map(function(e,n){return r.a.createElement("li",{key:g()()},e.track.name," - ",e.track.artists[0].name,r.a.createElement("button",{id:e.track.id,value:n,onClick:t.deleteTrack},"-"))}))))}}]),e}(a.Component);n(41);function k(){var t=Object(h.a)(["\n  display: flex;\n  margin: auto;\n  width: 80%;\n  a {\n    width: 100%;\n    line-height: 100px;\n    height: 100px;\n  }\n"]);return k=function(){return t},t}function E(){var t=Object(h.a)(["\n  border-bottom: 1px solid #404040;\n  display: flex;\n  padding: 10px;\n  :hover {\n    background-color: rgba(0, 0, 0, 0.3);\n  }\n"]);return E=function(){return t},t}function b(){var t=Object(h.a)(["\n  background: transparent;\n  border-radius: 3px;\n  color: white;\n  padding: 1em 2em;\n"]);return b=function(){return t},t}var w=v.a.div(b()),j=v.a.div(E()),O=v.a.div(k()),I=function(t){var e=t.items;return r.a.createElement(w,null,e.length>0&&r.a.createElement("h1",null," ",e[0].owner.display_name,"'s Playlists "),e.map(function(t,e){return r.a.createElement(j,{key:g()()},r.a.createElement("img",{src:t.images[0].url,height:"100"}),r.a.createElement(O,null,r.a.createElement(d.b,{to:"/playlist/".concat(t.id)},t.name)))}))},x=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(s.a)(this,Object(u.a)(e).call(this))).getPlaylists=function(e){fetch("https://api.spotify.com/v1/me/playlists",{method:"GET",headers:{Authorization:"Bearer "+e}}).then(function(t){return t.json()}).then(function(e){console.log(e),t.setState({items:e.items})}).catch(function(t){return console.error("Error:",t)})},t.state={token:null,loggedIn:!1,items:[]},t}return Object(m.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this.getHashParams().access_token;t&&(this.setState({token:t,loggedIn:!0}),this.getPlaylists(t))}},{key:"getHashParams",value:function(){var t,e={},n=/([^&;=]+)=?([^&;]*)/g,a=window.location.hash.substring(1);for(t=n.exec(a);t;)e[t[1]]=decodeURIComponent(t[2]),t=n.exec(a);return e}},{key:"render",value:function(){var t=this.state,e=t.items,n=t.loggedIn,a=t.token;return r.a.createElement(d.a,null,r.a.createElement("div",null,!n&&r.a.createElement("a",{href:"http://localhost:8888"}," Login to Spotify "),r.a.createElement(p.a,{exact:!0,path:"/",component:function(){return r.a.createElement(I,{items:e})}}),r.a.createElement(p.a,{path:"/playlist/:playlistId",component:function(t){return r.a.createElement(y,Object.assign({},t,{items:e,token:a}))}})))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.9df628b9.chunk.js.map